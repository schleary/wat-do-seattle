<div class="main-block">
  <h1>Suggest a Thing</h1>
</div>
<div class="main-block">
  <br>
  <%= bootstrap_form_for @activity, url: {action: "create"}, layout: :horizontal, label_col: "col-lg-2 col-md-2 col-sm-2", control_col: "col-sm-4" do |f| %>
    <%= f.text_field :name %>
    <%= f.text_field :url %>
    <%= f.text_area :description %>
    <%= f.number_field :min_price, prepend: "$", append: ".00"  %>
    <%= f.number_field :max_price, prepend: "$", append: ".00"  %>
    <%= f.hidden_field :min_activity_level, :id => "min_activity_level" %>
    <%= f.hidden_field :max_activity_level, :id => "max_activity_level" %>

    <div class="activity-text">Activity Level</div><div id='slider-snap'></div>
    <span class="min-example-val" id="slider-snap-value-lower"></span>
    <br>
    <span class="max-example-val" id="slider-snap-value-upper"></span>
    <br>
    <br>

    <%= f.file_field :image %>

    <%= f.submit "Submit" %>
    <br><br>
  <% end %>

  <%= javascript_include_tag 'jquery.nouislider.all.min' %>
  <%= javascript_include_tag 'slider' %>
  <%= stylesheet_link_tag    'jquery.nouislider.min', media: 'all', 'data-turbolinks-track' => true %>

  <script>
  $( document ).ready(function() {
    $('#slider-snap').noUiSlider({
    	start: [ 1, 3 ],
    	snap: true,
    	connect: true,
    	range: {
    		'min': 0,
    		'20%': 1,
    		'40%': 2,
    		'60%': 3,
    		'80%': 4,
    		'max': 5
    	}
    });

    $('#slider-snap').Link('lower').to(function(minSliderValue) {
      var values = ['Inactive (ex: Watching a Movie)',
                    'Some Mental Activity (ex: Reading a Book)',
                    'Mentally Active (ex: Playing Chess)',
                    'Moderate (ex: Light Yoga)',
                    'Vigorous (ex: Running)',
                    'Extreme (ex: Mountain Climbing)',
                    'Dont Care (Surprise Me!)'];

      $("#min_activity_level").attr("value", parseInt(minSliderValue));
       $('#slider-snap-value-lower').html(values[parseInt(minSliderValue)]);
    });

    $('#slider-snap').Link('upper').to(function(maxSliderValue) {
      var values = ['Inactive (ex: Watching a Movie)',
                    'Some Mental Activity (ex: Reading a Book)',
                    'Mentally Active (ex: Playing Chess)',
                    'Moderate (ex: Light Yoga)',
                    'Vigorous (ex: Running)',
                    'Extreme (ex: Mountain Climbing)',
                    'Dont Care (Surprise Me!)'];

      $("#max_activity_level").attr("value", parseInt(maxSliderValue));
       $('#slider-snap-value-upper').html(values[parseInt(maxSliderValue)]);
    });

  });
  </script>
</div>
